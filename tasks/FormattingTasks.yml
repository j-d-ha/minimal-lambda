version: '3'

tasks:
  default:
    desc: Format solution
    silent: true
    cmds:
      - echo "ğŸ“ Formatting C# code and applying style conventions..."
      - task format:cleanupcode
      - task format:csharpier
      - echo "âœ… All formatting complete!"

  cleanupcode:
    desc: Formats solution with CleanupCode
    silent: true
    cmds:
      - echo "ğŸ”§ Running CleanupCode for code cleanup and style enforcement..."
      - |
        dotnet jb cleanupcode  \
          MinimalLambda.sln \
          --settings="MinimalLambda.sln.DotSettings" \
          --profile="Built-in: Reformat Code" \
          --verbosity=FATAL \
          --no-build \
          --include="**/*" \
          --exclude="**/bin/**/*;**/obj/**/*"
      - echo "âœ… CleanupCode completed successfully!"

  csharpier:
    desc: Formats solution with CSharpier
    silent: true
    cmds:
      - echo "ğŸ¨ Running CSharpier for opinionated C# code formatting..."
      - dotnet csharpier format .
      - echo "âœ… CSharpier completed successfully!"