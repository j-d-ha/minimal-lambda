version: '3'

tasks:
  all:
    desc: Run complete test suite
    silent: true
    cmds:
      - echo "ğŸ§ª Running all tests"
      - dotnet test --configuration Release --no-build
      - echo "âœ… All tests passed!"

  unit:
    desc: Run unit tests only
    silent: true
    cmds:
      - echo "ğŸ§ª Running unit tests"
      - dotnet test --configuration Release --filter-trait "Category=Unit" --no-build
      - echo "âœ… Unit tests completed!"

  coverage:
    desc: Run tests with code coverage collection
    silent: true
    cmds:
      - echo "ğŸ“Š Running tests with coverage collection"
      - dotnet test --configuration Release --coverage --coverage-output-format cobertura --no-build
      - echo "âœ… Coverage collection completed!"

  watch:
    desc: Run tests in watch mode for TDD
    silent: true
    cmds:
      - echo "ğŸ‘€ Starting test watch mode"
      - dotnet watch --project tests/MinimalLambda.UnitTests test --configuration Release

  verbose:
    desc: Run tests with detailed output for debugging
    silent: true
    cmds:
      - echo "ğŸ” Running tests with verbose output"
      - dotnet test --configuration Release --verbosity detailed --no-build
      - echo "âœ… Verbose test run completed!"
